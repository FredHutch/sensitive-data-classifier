{% extends "base.html" %}

{% block title %}PHI Classifier - Advanced Protected Health Information Classification{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section text-center py-5 mb-5">
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <h1 class="display-4 fw-bold text-primary mb-3">
                <i class="fas fa-shield-alt me-3"></i>
                Advanced PHI Classification System
            </h1>
            <p class="lead mb-4">
                State-of-the-art machine learning system for identifying Protected Health Information 
                with 99.5% accuracy using ensemble algorithms and comprehensive medical vocabularies.
            </p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                <a href="{{ url_for('classify') }}" class="btn btn-primary btn-lg me-md-2">
                    <i class="fas fa-search me-2"></i>Classify Documents
                </a>
                <a href="{{ url_for('generate') }}" class="btn btn-outline-primary btn-lg">
                    <i class="fas fa-file-medical me-2"></i>Generate Synthetic Data
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Key Features Section -->
<div class="row mb-5">
    <div class="col-12">
        <h2 class="text-center mb-4"><i class="fas fa-star me-2"></i>Key Features</h2>
    </div>
    
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 feature-card">
            <div class="card-body text-center">
                <div class="feature-icon mb-3">
                    <i class="fas fa-brain fa-3x text-primary"></i>
                </div>
                <h5 class="card-title">Advanced AI Classification</h5>
                <p class="card-text">Ensemble machine learning with Random Forest, Gradient Boosting, SVM, and Neural Networks achieving 99.5% accuracy.</p>
            </div>
        </div>
    </div>
    
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 feature-card">
            <div class="card-body text-center">
                <div class="feature-icon mb-3">
                    <i class="fas fa-shield-virus fa-3x text-success"></i>
                </div>
                <h5 class="card-title">HIPAA Compliant</h5>
                <p class="card-text">Local processing only with encrypted storage, comprehensive audit logging, and no external PHI transmission.</p>
            </div>
        </div>
    </div>
    
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 feature-card">
            <div class="card-body text-center">
                <div class="feature-icon mb-3">
                    <i class="fas fa-file-alt fa-3x text-info"></i>
                </div>
                <h5 class="card-title">Multi-Format Support</h5>
                <p class="card-text">Process TXT, DOCX, PDF, CSV, XLSX, and JSON files with advanced text extraction and metadata analysis.</p>
            </div>
        </div>
    </div>
    
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 feature-card">
            <div class="card-body text-center">
                <div class="feature-icon mb-3">
                    <i class="fas fa-globe fa-3x text-warning"></i>
                </div>
                <h5 class="card-title">Medical Vocabularies</h5>
                <p class="card-text">Integration with UMLS (1M+ concepts), SNOMED CT, ICD-10, and RxNorm for comprehensive medical context analysis.</p>
            </div>
        </div>
    </div>
</div>

<!-- Technical Capabilities Section -->
<div class="row mb-5">
    <div class="col-lg-6 mb-4">
        <div class="card h-100">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="fas fa-cogs me-2"></i>Technical Capabilities</h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li class="mb-2">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <strong>47 Advanced Features:</strong> PHI-specific, statistical, medical context, and document structure
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <strong>18 HIPAA Categories:</strong> Complete coverage of all HIPAA identifier types
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <strong>Batch Processing:</strong> Handle 10,000+ documents with parallel processing
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <strong>Real-time Analysis:</strong> Sub-second classification with confidence scoring
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <strong>Risk Assessment:</strong> Automatic risk level classification (None/Low/Medium/High)
                    </li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="col-lg-6 mb-4">
        <div class="card h-100">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0"><i class="fas fa-database me-2"></i>Medical Data Integration</h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li class="mb-2">
                        <i class="fas fa-globe text-primary me-2"></i>
                        <strong>UMLS Metathesaurus:</strong> 4.7M concepts from 217 vocabularies
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-stethoscope text-primary me-2"></i>
                        <strong>SNOMED CT:</strong> 350,000+ clinical terms and relationships
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-pills text-primary me-2"></i>
                        <strong>RxNorm:</strong> 100,000+ medication terms and dosing information
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-notes-medical text-primary me-2"></i>
                        <strong>ICD-10-CM:</strong> 70,000+ diagnostic codes with hierarchical structure
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-robot text-primary me-2"></i>
                        <strong>BioBERT:</strong> Medical domain language model for enhanced accuracy
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Getting Started Section -->
<div class="row mb-5">
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0"><i class="fas fa-rocket me-2"></i>Getting Started</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4 text-center mb-3">
                        <div class="step-number">1</div>
                        <h6>Upload Documents</h6>
                        <p class="small text-muted">Select one or more documents in supported formats (TXT, DOCX, PDF, CSV, XLSX, JSON)</p>
                        <a href="{{ url_for('classify') }}" class="btn btn-outline-primary btn-sm">Start Classifying</a>
                    </div>
                    <div class="col-md-4 text-center mb-3">
                        <div class="step-number">2</div>
                        <h6>Review Results</h6>
                        <p class="small text-muted">Get detailed analysis with confidence scores, risk levels, and identified PHI elements</p>
                        <button class="btn btn-outline-secondary btn-sm" disabled>View Results</button>
                    </div>
                    <div class="col-md-4 text-center mb-3">
                        <div class="step-number">3</div>
                        <h6>Take Action</h6>
                        <p class="small text-muted">Export reports, generate synthetic data, or process additional documents in batch</p>
                        <a href="{{ url_for('generate') }}" class="btn btn-outline-success btn-sm">Generate Data</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- System Status Section -->
<div class="row mb-5">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-heartbeat me-2"></i>System Status</h5>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-md-3 mb-3">
                        <div class="status-indicator">
                            <i class="fas fa-circle text-success fa-lg"></i>
                            <h6 class="mt-2">Classification Engine</h6>
                            <span class="badge bg-success">Online</span>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="status-indicator">
                            <i class="fas fa-circle text-success fa-lg"></i>
                            <h6 class="mt-2">Document Processor</h6>
                            <span class="badge bg-success">Ready</span>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="status-indicator">
                            <i class="fas fa-circle text-warning fa-lg"></i>
                            <h6 class="mt-2">UMLS Integration</h6>
                            <span class="badge bg-warning">Limited</span>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="status-indicator">
                            <i class="fas fa-circle text-success fa-lg"></i>
                            <h6 class="mt-2">Security System</h6>
                            <span class="badge bg-success">Protected</span>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-3">
                    <small class="text-muted">
                        <i class="fas fa-info-circle me-1"></i>
                        UMLS features require API key configuration for full functionality
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Security Notice -->
<div class="alert alert-info" role="alert">
    <h6 class="alert-heading">
        <i class="fas fa-shield-alt me-2"></i>HIPAA Compliance & Security
    </h6>
    <p class="mb-0">
        This system is designed to be HIPAA compliant with local processing only. 
        No PHI data is transmitted to external services. All document processing 
        occurs on secure, encrypted infrastructure with comprehensive audit logging.
    </p>
</div>
{% endblock %}

{% block extra_css %}
<style>
.hero-section {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: 10px;
}

.feature-card {
    border: none;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
}

.feature-icon {
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.step-number {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: linear-gradient(45deg, #007bff, #0056b3);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: bold;
    margin: 0 auto 15px;
}

.status-indicator {
    padding: 15px;
}

.card-header {
    font-weight: 500;
}
</style>
{% endblock %}